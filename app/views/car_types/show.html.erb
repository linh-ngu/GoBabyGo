<p class="text-green"><%= notice %></p>

<h1 class="text-4xl font-bold mb-4">Car Type</h1>
<%= render @car_type %>
<% if @car_type.cars.any? %>
  <table class="w-full">
    <br>
    <h2 class="text-2xl font-bold mb-4">Associated Cars</h2>
    <table class="w-full">
      <thead>
        <tr>
          <th class="text-left">Application</th>
          <th class="text-left">Modifications</th>
          <th class="text-left">Complete</th>
          <th colspan="3" class="text-left">Actions</th>
        </tr>
      </thead>

      <tbody>
        <% @car_type.cars.each do |car| %>
          <tr>
            <td>
              <% if car.user_application.nil? %>
                None
              <% else %>
                <%= link_to car.user_application.child_name, user_application_path(car.user_application), class: "text-blue-500" %>
              <% end %>
            </td>
            <td><%= car.modification_details %></td>
            <td><%= car.complete ? "True" : "False" %></td>
            <td><%= link_to 'Show', car, class: "btn btn-primary text-blue-500" %></td>
            <td><%= link_to 'Edit', edit_car_path(car), class: "btn btn-primary text-blue-500" %></td>
            <td><%= link_to 'Destroy', car, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger text-red-500" %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <p>No cars associated with this car_type.</p>
  <% end %>
</table>

<div>
  <br><br>
  <%= link_to "Edit this Car Type", edit_car_type_path(@car_type), class: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounde" %>
  <br><br>
  <%= link_to "Back to Car Types", car_types_path, class: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounde" %>
  <br><br>
  <%= button_to "Destroy this Car Type", @car_type, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger text-black-500 bg-red-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounde" %>
</div>
